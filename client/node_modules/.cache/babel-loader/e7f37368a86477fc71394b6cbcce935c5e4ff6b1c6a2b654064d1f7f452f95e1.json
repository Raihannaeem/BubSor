{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\raiha\\\\Desktop\\\\react-flask\\\\client\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from 'react';\nimport AudioRecorder from './audiorecorder';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [audio, setAudio] = useState('');\n  const [output, setOutput] = useState('');\n  const [language, setLanguage] = useState('');\n  const [audioFile, setAudioFile] = useState(null);\n  const [url, setUrl] = useState('');\n  const [outputUrl, setOutputUrl] = useState('');\n  const inputRef = useRef();\n  const fileRef = useRef();\n  function test() {\n    fetch('/members').then(res => {\n      return res.json();\n    }).then(data => {\n      setOutput(data.data);\n    });\n  }\n  function recieveAudio(data) {\n    setAudioFile(data.file);\n    setUrl(data.url);\n  }\n  function sendMessage() {\n    const data = new FormData();\n    let isFile = 'n';\n    let message = inputRef.current.value;\n    if (message != '') {\n      data.append('type', 'text');\n      data.append('text', message);\n      data.append('language', language);\n    } else {}\n    const file = fileRef.current.files[0];\n    if (file != null) {\n      data.append('file', file);\n      isFile = 'y';\n    }\n    data.append('isFile', isFile);\n    fetch('/sendmessage', {\n      method: 'POST',\n      body: data\n    }).then(res => {\n      return res.json();\n    }).then(data => {\n      setOutput(data.text);\n      setAudio(data.audio);\n    });\n  }\n  function sendMessageTest() {\n    const data = new FormData();\n    let isFile = 'n';\n    let message = inputRef.current.value;\n    if (message != '') {\n      data.append('type', 'text');\n      data.append('text', message);\n      data.append('language', 'hi-IN');\n    }\n    if (audioFile != null) {\n      data.append('file', audioFile);\n      data.append('type', 'audio');\n      data.append('url', url);\n      setAudioFile(null);\n      setUrl('');\n    }\n    const file = fileRef.current.files[0];\n    if (file != null) {\n      data.append('file', file);\n      isFile = 'y';\n    }\n    data.append('isFile', isFile);\n    fetch('/fromuser', {\n      method: 'POST',\n      body: data\n    }).then(res => {\n      return res.json();\n    }).then(data => {\n      const binary = atob(data.audio_base64);\n      const array = new Uint8Array(binary.length);\n      for (let i = 0; i < binary.length; i++) array[i] = binary.charCodeAt(i);\n      const audioBlob = new Blob([array], {\n        type: \"audio/wav\"\n      });\n      setOutputUrl(URL.createObjectURL(audioBlob));\n      setOutput(data.data);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      ref: inputRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"file\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      ref: fileRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: sendMessageTest,\n      children: \"send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(AudioRecorder, {\n      sendToParent: recieveAudio\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this), url && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"audio\", {\n        controls: true,\n        children: [/*#__PURE__*/_jsxDEV(\"source\", {\n          src: url,\n          type: \"audio/wav\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 19\n        }, this), \"Your browser does not support the audio element.\"]\n      }, url, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }, this), outputUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"audio\", {\n        controls: true,\n        children: [/*#__PURE__*/_jsxDEV(\"source\", {\n          src: outputUrl,\n          type: \"audio/wav\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 19\n        }, this), \"Your browser does not support the audio element.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: audio\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: output\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"wnG7oH8pRqVR0EqssUovzyeBrRQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","useRef","AudioRecorder","jsxDEV","_jsxDEV","App","_s","audio","setAudio","output","setOutput","language","setLanguage","audioFile","setAudioFile","url","setUrl","outputUrl","setOutputUrl","inputRef","fileRef","test","fetch","then","res","json","data","recieveAudio","file","sendMessage","FormData","isFile","message","current","value","append","files","method","body","text","sendMessageTest","binary","atob","audio_base64","array","Uint8Array","length","i","charCodeAt","audioBlob","Blob","type","URL","createObjectURL","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","onClick","sendToParent","controls","src","_c","$RefreshReg$"],"sources":["C:/Users/raiha/Desktop/react-flask/client/src/App.jsx"],"sourcesContent":["import {useState,useEffect,useRef} from 'react';\nimport AudioRecorder from './audiorecorder';\n\nfunction App(){\n    const [audio,setAudio]=useState('')\n    const [output,setOutput]=useState('')\n    const [language,setLanguage]=useState('')\n    const [audioFile,setAudioFile]=useState(null)\n    const [url,setUrl]=useState('')\n    const [outputUrl,setOutputUrl]=useState('')\n\n    const inputRef=useRef()\n    const fileRef=useRef()\n    \n    function test(){\n        fetch('/members').then((res)=>{\n            return res.json()\n        }).then((data)=>{\n            setOutput(data.data)\n        })\n    }\n\n    function recieveAudio(data){\n        setAudioFile(data.file)\n        setUrl(data.url)\n    }\n\n    function sendMessage(){\n        const data= new FormData()\n        let isFile='n'\n        let message=inputRef.current.value\n\n        if(message!=''){\n            data.append('type','text')\n            data.append('text',message)\n            data.append('language',language)\n        }\n        else{\n            \n        }\n        const file= fileRef.current.files[0]\n        if(file!=null){\n            data.append('file',file)\n            isFile='y'\n        }\n        data.append('isFile',isFile)\n        \n        fetch('/sendmessage',{\n            method:'POST',\n            body: data\n        }).then((res)=>{\n            return res.json()\n        }).then((data)=>{\n            setOutput(data.text)\n            setAudio(data.audio)\n        })\n    }\n    \n    function sendMessageTest(){\n        const data= new FormData()\n        let isFile='n'\n        let message=inputRef.current.value\n\n        if(message!=''){\n            data.append('type','text')\n            data.append('text',message)\n            data.append('language','hi-IN')\n        }\n        if(audioFile!=null){\n            data.append('file',audioFile)\n            data.append('type','audio')\n            data.append('url',url)\n            setAudioFile(null)\n            setUrl('')\n        }\n        const file= fileRef.current.files[0]\n        if(file!=null){\n            data.append('file',file)\n            isFile='y'\n        }\n        data.append('isFile',isFile)\n        \n        fetch('/fromuser',{\n            method:'POST',\n            body: data\n        }).then((res)=>{\n            return res.json()\n        }).then((data)=>{\n            const binary = atob(data.audio_base64)\n            const array = new Uint8Array(binary.length)\n            for(let i=0; i<binary.length; i++)\n                array[i]=binary.charCodeAt(i);\n\n            const audioBlob = new Blob([array], {type: \"audio/wav\"})\n            setOutputUrl(URL.createObjectURL(audioBlob))\n            setOutput(data.data)\n        })\n    }\n\n    return(\n        <div>\n            <input type='text' ref={inputRef}></input>\n            <br/>\n            <p>file</p>\n            <input type='file' ref={fileRef}/>\n            <br/>\n            <button onClick={sendMessageTest}>send</button>\n            <br/>\n            <AudioRecorder sendToParent={recieveAudio}/>\n            {url && (\n              <div>\n                <audio key={url} controls>\n                  <source src={url} type=\"audio/wav\" />\n                  Your browser does not support the audio element.\n                </audio>\n              </div>\n            )}\n            {outputUrl && (\n              <div>\n                <audio controls>\n                  <source src={outputUrl} type=\"audio/wav\" />\n                  Your browser does not support the audio element.\n                </audio>\n              </div>\n            )}\n            <p>{audio}</p>\n            <p>{output}</p>\n        </div>\n    )\n}\n\nexport default App"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}